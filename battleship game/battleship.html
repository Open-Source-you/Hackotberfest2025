<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Battleship Game</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      background-color: rgb(250, 215, 222);
    }

    .box {
      background-size: cover;
      background-color: red;
      width: 100px;
      height: 100px;
      margin: 2px;
      display: inline-block;
      cursor: pointer;
    }

    h1 {
      text-align: center;
      text-decoration: underline;
      font-size: 24px;
    }

    .row {
      display: flex;
      justify-content: center;
    }

    button {
      font-size: 20px;
      margin-top: 10px;
      background-color: red;
    }
  </style>
</head>
<body>
  <h1><u>Battleship</u></h1>
  <p>Click on the cells to reveal the hidden image. Find all 5 ships before 8 clicks to win!</p>

  <div class="row">
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
  </div>
  <div class="row">
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
  </div>
  <div class="row">
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
  </div>
  <div class="row">
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
    <div class="box"></div>
  </div>

  <button class="reset">Reset Game</button>

  <script>
    const boxes = document.querySelectorAll('.box');
    const resetButton = document.querySelector('.reset');
    const boardSize = 4;
    const numShips = 5;
    const maxClicks = 8;

    let clickNumber = 0;
    let shipsFound = 0;
    let board = [];

    function setupGame() {
      // Initialize board
      board = Array(boardSize * boardSize).fill(0);
      
      // Place ships randomly
      let shipsPlaced = 0;
      while (shipsPlaced < numShips) {
        let randomIndex = Math.floor(Math.random() * board.length);
        if (board[randomIndex] === 0) {
          board[randomIndex] = 1;
          shipsPlaced++;
        }
      }
    }

    function game(box, index) {
      if (box.classList.contains('usedBox') || clickNumber >= maxClicks) {
        return;
      }

      clickNumber++;
      box.classList.add('usedBox');

      if (board[index] === 1) {
        box.style.backgroundImage = 'url("https://cdnb.artstation.com/p/assets/images/images/022/948/541/large/shahrul-effendy-tank-tanduk-concept.jpg?1577421621")';
        shipsFound++;
      } else {
        box.style.backgroundImage = 'url("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxMSDxUPEBISFRUPDw8PDw8XFhISDw8PFRUWFhUSFRYYHSggGBolGxUVITEhJSkrLi4uFx8zODMtNygtLisBCgoKDg0OFxAQGisfHR0tLS0tLS0rKysrLS0tLS0tLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tN//AABEIAKgBLAMBIgACEQEDEQH/xAAbAAACAwEBAQAAAAAAAAAAAAAAAgEDBAUGB//EADoQAAIBAQMJBgQGAgIDAAAAAAABAhEDBBIFITFBUWFxkaETUoGxwdEUQuHwIjJigpKiFVOy8TNDcv/EABgBAQEBAQEAAAAAAAAAAAAAAAABAgME/8QAKhEAAgIBBAIBAgYDAAAAAAAAAAECEQMSIUFREzEEImEUQnGRocEjMoH/2gAMAwEAAhEDEQA/APokntSIcIgxTomcmgwLcRgQs5FeM0jDoujdq6xbW700MqU3tHg09LZdzOzKaAa1DYU9nnLZlxKgLuwb0IJ3dpC0NLKQJaIKZAAAAAAAAAAAAmO8gAUtk0/DWVkAQNk1IACkAAAAAAAAAAAAAJoCkEpjQsm9RarqyWVRbKUxmnsGdi1oTFlB7GLLTEIGzBm39CmTY4kSgMwOFnqpFEoFLizWyuUTomcpQM6RdCyW1iuJbG1K2ZS7Hjdv1Ml2UVrZRK2bBxr71JTNWuC9vNmZU5N6CrC08xusHmzj0FuYJxesQ6lokzLKEa6yqRmUKMoFs7NapLgVGjDVAAACAAAAAAAAABKBSYolxCoORC7BhIY0Y1InHeAIAAUyAANGNQUssqa0aUo62uBng461QW0mtRhqzonSNCtIrQN8StpixsipdJPIa5XnYyt3h6DOAomtjziKQBoybak0CgUOJ6SGhWhwYsUV0IcSxoVlslCTiilo2RmtDRE7KL0ZjSZhx6MRKY87KmtFZo5MmoJkAUAAACAAAAAAAAAAAAAAAAAABKYMgAUZNbCGQAAExlQgABnKukUAAAAAEAAAAAAADeBNCDgetghhQYLZNBXEmoOQGwjFSLahQtmaMtokVG5wEdibUjnLGZSDU7EXsy6kZ8bM4FlpErKjDVAAAUgAAAAAACgAACAAAAAAAAAAAAS4kDwq3TOCoWgYWdCFlmH7MxqOnjOYog0dPAtaK7emwag8ZzwJfAg2cwAAAMSypaaarhSJpsssL54+Ka9TjOXHn9AxLa+f0Pa8EHweGPyci5O3aZXglmjKuzMvUzSyzLVBczlO0fdrvr9CbOr0x8NYXx8a4K/lZJP2dWxyvKv4o6dla1GtMrVzQWfa89PAw2N0xOilh/a2zReMnRjGuN1zf9URl48SZPxOT1ZEcpWibTafFaORdc8qNJ9pWWxpLNu1Khyuzo9Nc+vTQm0rqfhQ28MHtRFnyR3s6d9yljWGFUn+ZvS92Yz3a/zs8yzx7r0eGwxWcZyzRhJ/tY87CS/Mkt2l9GVYoJaSP5E5S1XudX/My/1r+RRa5UtHoSjwzvqc1xGX/wA+ZFgxrgr+Rle1myF9tNcovin7GhX3bBvfHOjmN7mIrRaKuuqOdVK8UXwRZpLk6byiu6+aKp3+WpJbtPUyxltzbNSfFk4n+n+SIsUFwR5pPk0QyjLZHqWRvc5aIxzaqmLwXOJdC9SSpSNN+B+YeKPCCyy7L5W9r3UhrOdtrjXdhl7IyfESrVUXDCvIvjlG1Spi6L2I8fSQ8j7Zba3xxzSjR7K5/FFUr/N6IpeDZlnaVbbcavw9KFbtXu5s0sMeg80uzdC/y1qvNMu+PjrUuWY5atX9tjK0b1ffIjwRfBVnkuTqxvsHrfCjqNK8xSq68m30OXC1a0Yl98CHGv2zPgia/ETNzylDVXdoXqPdb25v8vVdE9Jgs4rXiza1n6UL8S7... [truncated])';
      }

      if (shipsFound === numShips) {
        setTimeout(() => alert("You win the game!"), 100);
      } else if (clickNumber === maxClicks) {
        setTimeout(() => alert("You lose the game!"), 100);
      }
    }

    function resetGame() {
      clickNumber = 0;
      shipsFound = 0;
      boxes.forEach(box => {
        box.style.backgroundImage = '';
        box.classList.remove('usedBox');
      });
      setupGame();
    }

    boxes.forEach((box, index) => {
      box.addEventListener('click', function () {
        game(box, index);
      });
    });

    resetButton.addEventListener('click', resetGame);

    setupGame();
  </script>
</body>
</html>